(this["webpackJsonpfalcon-project"]=this["webpackJsonpfalcon-project"]||[]).push([[0],{70:function(e,t,a){e.exports=a(99)},75:function(e,t,a){},84:function(e,t,a){},89:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),c=a.n(o),s=(a(75),a(19)),i=a(7),l=a(12),u=a(101),m=a(102),p=a(61),f=a(107),h=r.a.createContext(null),d=function(e){return function(t){return r.a.createElement(h.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},b=h,E=a(60),v=a(18),O=a(5),k=a.n(O),g=a(10),j=a(8),C=a(9),w=a(32),y=a.n(w),x=(a(77),a(79),a(81),{apiKey:"AIzaSyD93hKn54YxT1sAE5qKA3DZMyvAz0P6tKQ",authDomain:"falcon-project-f2431.firebaseapp.com",databaseURL:"https://falcon-project-f2431.firebaseio.com",projectId:"falcon-project-f2431",storageBucket:"falcon-project-f2431.appspot.com",messagingSenderId:"555496500915",appId:"1:555496500915:web:831bc1d32d318fa8504ac6",measurementId:"G-E492JJPFVW"}),S=function(){function e(){var t=this;Object(j.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},y.a.initializeApp(x),this.auth=y.a.auth(),this.db=y.a.database(),this.firestore=y.a.firestore()}return Object(C.a)(e,[{key:"createProfile",value:function(){var e=Object(g.a)(k.a.mark((function e(t,a){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date,r={Email:a,Username:t,Timestamp:n},e.next=4,this.firestore.collection("User").doc(a).set(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadProfile",value:function(){var e=Object(g.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("User").where("Username","==",t).get();case 2:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createPost",value:function(){var e=Object(g.a)(k.a.mark((function e(t,a,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={Username:n,Title:t,Link:a},e.next=3,this.firestore.collection("Post").doc(t).set(r);case 3:return e.next=5,this.firestore.collection("Comments").doc(t).set(Object(v.a)({},n,null));case 5:return e.next=7,this.firestore.collection("Likes").doc(t).set({Total:0});case 7:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"upvote",value:function(){var e=Object(g.a)(k.a.mark((function e(t,a,n){var r,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a,o={Total:r+=1},e.next=5,this.firestore.collection("Likes").doc(t).set(o);case 5:return e.sent,e.next=8,this.firestore.collection("User").doc(n).collection("Post").doc(t).set({isLiked:!0});case 8:e.sent;case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"downvote",value:function(){var e=Object(g.a)(k.a.mark((function e(t,a,n){var r,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a,-1===(r-=1)&&(r=0),o={Total:r},e.next=6,this.firestore.collection("Likes").doc(t).set(o);case 6:return e.sent,e.next=9,this.firestore.collection("User").doc(n).collection("Post").doc(t).delete();case 9:e.sent;case 10:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"removePost",value:function(){var e=Object(g.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Post").doc(t).delete();case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePost",value:function(){var e=Object(g.a)(k.a.mark((function e(t,a,n,r){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{Link:n,Title:a,Email:r},e.next=3,this.removePost(t);case 3:return e.sent,e.next=6,this.createPost(a,n,r);case 6:e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"commentPost",value:function(){var e=Object(g.a)(k.a.mark((function e(t,a,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(v.a)({},n,a),e.next=3,this.firestore.collection("Comments").doc(t).update(r);case 3:e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"deleteComment",value:function(){var e=Object(g.a)(k.a.mark((function e(t,a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Comments").doc(t).collection(a).delete();case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadPosts",value:function(){var e=Object(g.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Post").get();case 2:return t=e.sent,a=[],t.forEach(function(){var e=Object(g.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push(t.data());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadComments",value:function(){var e=Object(g.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Comments").doc(t).get();case 2:return a=e.sent,e.abrupt("return",a.data());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadLikes",value:function(){var e=Object(g.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Likes").doc(t).get();case 2:return a=e.sent,e.abrupt("return",a.data());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTotalComments",value:function(){var e=Object(g.a)(k.a.mark((function e(t){var a,n,r,o,c,s,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Comments").doc(t).get();case 2:a=e.sent,n=0,r=Object.keys(a.data()),o=a.data(),c=0,s=r;case 7:if(!(c<s.length)){e.next=17;break}if(i=s[c],null!==o[i]&&void 0!==o[i]){e.next=13;break}return e.abrupt("continue",14);case 13:n++;case 14:c++,e.next=7;break;case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserPostsLikes",value:function(){var e=Object(g.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("User").doc(t).collection("Post").get();case 2:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return e.id})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserComments",value:function(){var e=Object(g.a)(k.a.mark((function e(t){var a,n,r,o,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Comments").get();case 2:a=e.sent,n=a.docs,r=0,o=Object(E.a)(n),e.prev=6,o.s();case 8:if((c=o.n()).done){e.next=15;break}if(null!=c.value.data()[t]){e.next=12;break}return e.abrupt("continue",13);case 12:r++;case 13:e.next=8;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),o.e(e.t0);case 20:return e.prev=20,o.f(),e.finish(20);case 23:return e.abrupt("return",r);case 24:case"end":return e.stop()}}),e,this,[[6,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserPosts",value:function(){var e=Object(g.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Post").where("Username","==",t).get();case 2:return a=e.sent,e.abrupt("return",a.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var P=function(e){var t=Object(n.useState)(e.location.state.Author),a=Object(l.a)(t,2),o=a[0],c=(a[1],Object(n.useState)({Timestamp:""})),s=Object(l.a)(c,2),i=s[0],h=s[1],d=Object(n.useState)({Karma:0}),E=Object(l.a)(d,2),v=E[0],O=E[1],k=Object(n.useState)({Comments:0}),g=Object(l.a)(k,2),j=g[0],C=g[1],w=Object(n.useState)({Post:[]}),y=Object(l.a)(w,2),x=y[0],S=y[1],P=Object(n.useContext)(b),T=function(e){var t=new Date(0);return t.setUTCSeconds(e[0].Timestamp.seconds),t.toString()};return Object(n.useEffect)((function(){P.loadProfile(o).then((function(e){h({Timestamp:T(e)}),P.getUserPostsLikes(e[0].Email).then((function(e){O({Karma:e.length})}))})),P.getUserComments(o).then((function(e){C({Comments:e})})),P.getUserPosts(o).then((function(e){S({Post:e.length})}))}),[]),r.a.createElement(u.a,{fluid:!0},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:5,offset:3}},r.a.createElement(f.a,null,r.a.createElement(f.a.Body,null,r.a.createElement(f.a.Title,null,"Profile Page"),r.a.createElement(f.a.Text,null,r.a.createElement("strong",null,"User:")," ",o,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"Account created on:")," ",i.Timestamp,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"Total Posts Likes:")," ",v.Karma,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"Karma:")," ",(v.Karma,2*v.Karma+3*j.Comments+4*x.Post),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"Posts Created:")," ",x.Post))))))},T=a(13),L=a(14),U=(a(84),a(50)),N=a(52);a(89);function I(e){var t=Object(n.useState)({Liked:!1}),a=Object(l.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)({Posts:[]}),i=Object(l.a)(s,2),u=(i[0],i[1]),m=Object(n.useContext)(b),p=localStorage.getItem("Email");Object(n.useEffect)((function(){m.getUserPostsLikes(p).then((function(t){u({Posts:t}),t.includes(e.title)&&c({Liked:!0})}))}),[]);var f=function(){o.Liked?(c({Liked:!1}),m.downvote(e.title,e.likes,p)):(c({Liked:!0}),m.upvote(e.title,e.likes,p))};return o.Liked?r.a.createElement("div",{className:"unliked-icon",onClick:function(){return f()}},r.a.createElement(U.a,{icon:N.a})):r.a.createElement("div",{className:"liked-icon",onClick:function(){return f()}},r.a.createElement(U.a,{icon:N.b}))}function A(e){var t=Object(i.f)(),a=Object(n.useState)({Likes:0}),o=Object(l.a)(a,2),c=o[0],s=o[1],u=Object(n.useState)({Comments:0}),m=Object(l.a)(u,2),p=m[0],f=m[1];Object(n.useEffect)((function(){e.firebase.loadLikes(e.title).then((function(e){console.log(e),s({Likes:e.Total})})),e.firebase.getTotalComments(e.title).then((function(e){f({Comments:e})}))}),[]);return r.a.createElement("div",{className:"total-tile-layout"},r.a.createElement("p",{className:"order-number"},e.number,"."),r.a.createElement(I,{title:e.title,likes:c.Likes}),r.a.createElement("div",{className:"tile-layout"},r.a.createElement("div",{className:"post-information"},r.a.createElement("a",{href:e.link},e.title)),r.a.createElement("div",{className:"post-bottom-information"},r.a.createElement("p",null,c.Likes," points by",r.a.createElement("span",{className:"profile-redirect",onClick:function(){t.push({pathname:"/profile/".concat(e.author),state:{Author:e.author}})}}," "+e.author)),r.a.createElement("span",{style:{marginRight:"calc(0.2vw)",marginLeft:"calc(0.2vw)"}},"|"),r.a.createElement("p",null,p.Comments," Comments"),r.a.createElement("span",{style:{marginRight:"calc(0.2vw)",marginLeft:"calc(0.2vw)"}},"|"),r.a.createElement("p",{onClick:function(){t.push({pathname:"/comment/".concat(e.title),state:{Title:e.title,Likes:c.Likes,Author:e.author}})},className:"comment-link"},"Comment"))))}a(94);var R=function(e){Object(L.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={Posts:[]},n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.firebase.loadPosts().then((function(t){e.setState({Posts:t})}))}),1e3)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"post-layout"},r.a.createElement("div",{className:"post-container"},this.state.Posts.map((function(t,a){return console.log(t),r.a.createElement(A,{title:t.Title,author:t.Username,link:t.Link,firebase:e.props.firebase,number:a+1})}))))}}]),a}(r.a.Component);function M(e){var t=Object(n.useContext)(b);return r.a.createElement(R,{firebase:t,props:e})}var D=a(37),G=(a(95),a(104)),W=a(103),F=function(e){Object(L.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(j.a)(this,a),n=t.call(this,e),console.log(e),n.state={Author:e.prop.location.state.Author,Likes:e.prop.location.state.Likes,Title:e.prop.location.state.Title,CommentTotal:0,Comments:[],Text:""},n.handleClick=n.handleClick.bind(Object(D.a)(n)),n}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.getTotalComments(this.state.Title).then((function(t){e.setState({CommentTotal:t})})),this.props.firebase.loadComments(this.state.Title).then((function(t){var a=Object.keys(t).map((function(e){return[e,t[e]]}));e.setState({Comments:a})}))}},{key:"handleClick",value:function(){var e=this.state.Text,t=localStorage.getItem("Username");this.props.firebase.commentPost(this.state.Title,e,t);this.setState({Text:""}),this.componentDidMount()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"comment-layout"},r.a.createElement("div",{className:"comment-background"},r.a.createElement(u.a,{fluid:!0},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:4,offset:1}},r.a.createElement("div",{className:"post-description"},r.a.createElement("p",{className:"post-title"},this.state.Title),r.a.createElement("p",{className:"post-info"},this.state.Likes," points by ",this.state.Author," | ",this.state.CommentTotal," comments ")))),r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:5,offset:1}},r.a.createElement(G.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(G.a.Control,{as:"textarea",rows:"4",type:"text",onChange:function(t){return e.setState({Text:t.target.value})},value:this.state.Text})))),r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:5,offset:1}},r.a.createElement(W.a,{onClick:function(){return e.handleClick()}},"Submit")))),r.a.createElement("div",{className:"comment-div"},r.a.createElement("div",{className:"comment-container"},this.state.Comments.map((function(e){if(null!==e[1])return r.a.createElement("div",null,r.a.createElement("h5",null,e[0]),r.a.createElement("p",{className:"comment-p"},e[1]," "))}))))))}}]),a}(r.a.Component);function K(e){var t=Object(n.useContext)(b);return r.a.createElement(F,{firebase:t,prop:e})}var H=a(26),_=r.a.createContext(null),B={PROFILE:"/profile/:name",CREATE:"/create_story",LOGIN:"/login",SIGNUP:"/signup",FORGOT_PASSWORD:"/forgot_password",HOME:"/",COMMENT:"/comment/:title"};var J=function(e){return function(t){var a=function(a){Object(L.a)(o,a);var n=Object(T.a)(o);function o(){return Object(j.a)(this,o),n.apply(this,arguments)}return Object(C.a)(o,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(a){e(a)||t.props.history.push(B.LOGIN)}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(_.Consumer,null,(function(n){return e(n)?r.a.createElement(t,a.props):null}))}}]),o}(r.a.Component);return Object(H.a)(i.g,d)(a)}}((function(e){return!!e}))((function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),s=Object(l.a)(c,2),f=s[0],h=s[1],d=Object(n.useState)(!1),E=Object(l.a)(d,2),v=E[0],O=E[1],k=Object(n.useState)(!1),g=Object(l.a)(k,2),j=g[0],C=g[1],w=Object(n.useContext)(b),y=Object(i.f)(),x=function(){C(""===f),a.includes(".com")?O(!1):O(!0);if(f&&a){var e=localStorage.getItem("Username");w.createPost(f,a,e);y.push("/")}};return r.a.createElement(u.a,{fluid:!0},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:4,offset:1}},r.a.createElement(G.a,null,r.a.createElement(G.a.Group,{controlId:"formGroupEmail"},r.a.createElement(G.a.Label,null,"Title"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter Title",onChange:function(e){return h(e.target.value)},isInvalid:j}),r.a.createElement(G.a.Control.Feedback,{type:"invalid"},"Please enter a valid Title")),r.a.createElement(G.a.Group,{controlId:"formGroupPassword"},r.a.createElement(G.a.Label,null,"URL"),r.a.createElement(G.a.Control,{type:"text",placeholder:"Enter Valid URL",onChange:function(e){return o(e.target.value)},isInvalid:v}),r.a.createElement(G.a.Control.Feedback,{type:"invalid"},"Please enter a valid url"))))),r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:4,offset:1}},r.a.createElement(W.a,{onClick:function(){return x()}},"Create Post"))))})),Y=a(21),z={email:"",error:null},V=function(e){Object(L.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state.email;n.props.firebase.doPasswordReset(t).then((function(){n.setState(Object(Y.a)({},z))})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(v.a)({},e.target.name,e.target.value))},n.state=Object(Y.a)({},z),n}return Object(C.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),a}(n.Component),q=function(){return r.a.createElement("p",null,r.a.createElement(s.b,{to:B.FORGOT_PASSWORD},"Forgot Password?"))},Q=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Forget Password"),r.a.createElement(Z,null))},Z=d(V),$=function(e){Object(L.a)(a,e);var t=Object(T.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignUp"),r.a.createElement(ae,null))}}]),a}(n.Component),X={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},ee=function(e){Object(L.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=t.username,r=t.email,o=t.passwordOne;n.props.firebase.doCreateUserWithEmailAndPassword(r,o).then((function(e){return n.props.firebase.user(e.user.uid).set({username:a,email:r})})).then((function(){n.setState(Object(Y.a)({},X)),n.props.firebase.createProfile(a,r),localStorage.setItem("Email",r),localStorage.setItem("Username",a),n.props.history.push(B.HOME)})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(v.a)({},e.target.name,e.target.value))},n.state=Object(Y.a)({},X),n}return Object(C.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,o=e.passwordTwo,c=e.error,s=n!==o||""===n||""===a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("p",null,"Enter Your Username:"),r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Enter Username"}),r.a.createElement("p",null,"Enter Your Email:"),r.a.createElement("input",{name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("br",null),r.a.createElement("p",null,"Enter Password:"),r.a.createElement("input",{name:"passwordOne",value:n,onChange:this.onChange,type:"text",placeholder:"Password"}),r.a.createElement("p",null,"Confirm Password:"),r.a.createElement("input",{name:"passwordTwo",value:o,onChange:this.onChange,type:"text",placeholder:"Confirm Password"}),r.a.createElement("button",{disabled:s,type:"submit"},"Sign Up"),c&&r.a.createElement("p",null,c.message))}}]),a}(n.Component),te=function(){return r.a.createElement("p",null,"Dont have an account? ",r.a.createElement(s.b,{to:B.SIGNUP},"Sign Up"))},ae=Object(H.a)(i.g,d)(ee),ne=$,re=function(e){Object(L.a)(a,e);var t=Object(T.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignIn"),r.a.createElement(se,null),r.a.createElement(q,null),r.a.createElement(te,null))}}]),a}(n.Component),oe={email:"",password:"",error:null},ce=function(e){Object(L.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=t.email,r=t.password;n.props.firebase.doSignInWithEmailAndPassword(a,r).then((function(){n.setState(Object(Y.a)({},oe)),localStorage.setItem("Email",a),n.props.firebase.loadProfile(a).then((function(e){localStorage.setItem("Username",e.Username)})),n.props.history.push(B.HOME)})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(v.a)({},e.target.name,e.target.value))},n.state=Object(Y.a)({},oe),n}return Object(C.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,o=""===a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("p",null,"Enter Your Email:"),r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("p",null,"Enter Password:"),r.a.createElement("input",{name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("button",{disabled:o,type:"submit"},"Sign In"),n&&r.a.createElement("p",null,n.message))}}]),a}(n.Component),se=Object(H.a)(i.g,d)(ce),ie=re,le=a(105),ue=a(106),me=function(e){var t=function(t){Object(L.a)(n,t);var a=Object(T.a)(n);function n(e){var t;return Object(j.a)(this,n),(t=a.call(this,e)).state={authUser:null},t}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(_.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),n}(r.a.Component);return d(t)},pe=(a(59),d((function(e){var t=e.firebase;return r.a.createElement("button",{type:"button",onClick:t.doSignOut},"Sign Out")}))),fe=function(){return r.a.createElement("div",{className:"bootstrap-scoped"},r.a.createElement(le.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(le.a.Brand,{href:B.HOME,className:"brand-name"},"Hacker News"),r.a.createElement(le.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(le.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(ue.a,{className:"mr-auto"},r.a.createElement(ue.a.Link,{href:B.STORIES},"Stories"),r.a.createElement(ue.a.Link,{href:B.CREATE},"Create Story")),r.a.createElement(ue.a.Link,{className:"sign_out",href:B.HOME},r.a.createElement(pe,null)))))},he=function(){return r.a.createElement("div",{className:"bootstrap-scoped"},r.a.createElement(le.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(le.a.Brand,{href:B.HOME,className:"brand-name"},"Hacker News"),r.a.createElement(le.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(le.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(ue.a,{className:"mr-auto"},r.a.createElement(ue.a.Link,{href:B.STORIES},"Stories")),r.a.createElement(ue.a.Link,{className:"sign_in",href:B.LOGIN},r.a.createElement(W.a,{variant:"outline-info"},r.a.createElement("b",null,"LogIn"))))))},de=function(){return r.a.createElement("div",null,r.a.createElement(_.Consumer,null,(function(e){return e?r.a.createElement(fe,null):r.a.createElement(he,null)})))},be=(a(98),me((function(){return r.a.createElement(s.a,null,r.a.createElement(de,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:B.HOME,component:M}),r.a.createElement(i.a,{exact:!0,path:B.COMMENT,component:K}),r.a.createElement(i.a,{exact:!0,path:B.PROFILE,component:P}),r.a.createElement(i.a,{exact:!0,path:B.CREATE,component:J}),r.a.createElement(i.a,{exact:!0,path:B.LOGIN,component:ie}),r.a.createElement(i.a,{exact:!0,path:B.FORGOT_PASSWORD,component:Q}),r.a.createElement(i.a,{exact:!0,path:B.SIGNUP,component:ne})))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(b.Provider,{value:new S},r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.ced438b4.chunk.js.map