{"version":3,"sources":["components/firebase/context.js","components/firebase/firebase.js","components/firebase/index.js","components/Profile.js","components/Upvote.js","components/PostTile.js","components/Home.js","components/session/context.js","components/session/Authentication.js","components/session/Authorization.js","components/EditComment.js","routes.js","components/Comment.js","components/createStory.js","components/authentication/forgotPassword.js","components/authentication/signup.js","components/authentication/login.js","components/authentication/signout.js","components/Navigation.js","App.js","serviceWorker.js","index.js"],"names":["FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","localStorage","clear","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","user","uid","db","ref","users","app","initializeApp","this","database","firestore","username","date","Date","data","Email","Username","Timestamp","collection","doc","set","get","profile","where","docs","map","title","link","Title","Link","getID","id","console","log","undefined","add","Total","count","getLikeId","likeId","value","update","isLiked","delete","getPostId","getCommentId","comment","oldTitle","loadLikes","getLikes","commentId","Post","parameter","string","getUid","name","Comment","Name","oldComment","findComment","getId","getPosts","postArray","forEach","post","a","push","getComments","val","getTotalComments","length","getUserLikes","getUserComments","getData","getUserPosts","Profile","useState","location","state","Author","author","timestamp","setTimestamp","Karma","karma","setKarma","Comments","comments","setComments","setPost","useContext","convertToDate","info","toDate","setUTCSeconds","seconds","toString","useEffect","getProfile","then","getUserPostsLikes","likes","res","Container","fluid","Row","Col","md","span","offset","Card","Body","Text","Upvote","Liked","liked","setLiked","Posts","setPosts","getEmail","getItem","titles","includes","clicked","downvote","upvote","className","onClick","icon","faCaretDown","faCaretUp","PostTile","history","useHistory","Likes","setLikes","commentTotal","setCommentTotal","num","number","href","pathname","style","marginRight","marginLeft","Home","setTimeout","loadPosts","posts","setState","index","HomeFunction","AuthUserContext","withAuthentication","WithAuthentication","authUser","listener","onAuthStateChanged","Provider","Authorization","condition","route","compose","withRouter","EditComment","newComment","setNewComment","show","setShow","tooltip","Tooltip","editComment","updateComment","window","reload","OverlayTrigger","placement","overlay","delay","hide","e","faEdit","Form","Control","defaultValue","onChange","target","ROUTES","prop","CommentTotal","NewTitle","ShowTextbox","handleClick","bind","remove","editTitle","deletePost","tooltipDelete","tooltipEdit","redirect","loadComments","text","commentPost","componentDidMount","deleteComment","updatePost","removePost","tag","faTrash","Group","controlId","type","placeholder","as","rows","Button","key","CommentFunction","url","setUrl","setTitle","validationUrl","setValidationUrl","validationTitle","setValidationTitle","unique","setUnique","submit","isTrue","isValidUrl","createPost","Label","isInvalid","Feedback","INITIAL_STATE","error","ForgetPasswordFormBase","onSubmit","event","catch","preventDefault","disabled","message","ForgetPasswordLink","to","ForgetPasswordPage","ForgetPasswordForm","SignUpPage","SignUpForm","passwordOne","passwordTwo","SignUpFormBase","createProfile","setItem","SignUpLink","LoginIn","LogInForm","LogInFormBase","loadProfile","NavigationAuth","Navbar","bg","variant","expand","Brand","Toggle","aria-controls","Collapse","Nav","NavigationNonAuth","Navigation","exact","path","component","createStory","login","forgotPassword","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7e5decd5.chunk.js","sourcesContent":["import React from \"react\";\r\n \r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n    <FirebaseContext.Consumer>\r\n      {firebase => <Component {...props} firebase={firebase} />}\r\n    </FirebaseContext.Consumer>\r\n  );\r\n \r\nexport default FirebaseContext;","import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/firestore';\r\n \r\nconst config = {\r\n  apiKey: \"AIzaSyD93hKn54YxT1sAE5qKA3DZMyvAz0P6tKQ\",\r\n  authDomain: \"falcon-project-f2431.firebaseapp.com\",\r\n  databaseURL: \"https://falcon-project-f2431.firebaseio.com\",\r\n  projectId: \"falcon-project-f2431\",\r\n  storageBucket: \"falcon-project-f2431.appspot.com\",\r\n  messagingSenderId: \"555496500915\",\r\n  appId: \"1:555496500915:web:831bc1d32d318fa8504ac6\",\r\n  measurementId: \"G-E492JJPFVW\"\r\n};\r\n \r\nclass Firebase {\r\n  constructor() {\r\n    app.initializeApp(config);\r\n\r\n    this.auth = app.auth();\r\n    this.db = app.database();\r\n    this.firestore = app.firestore();\r\n  }\r\n\r\n  // *** Auth API ***\r\n  doCreateUserWithEmailAndPassword = (email, password) =>\r\n    this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n  doSignInWithEmailAndPassword = (email, password) =>\r\n    this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n  doSignOut = () => {\r\n    this.auth.signOut();\r\n    localStorage.clear();\r\n  };\r\n\r\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n\r\n  doPasswordUpdate = password =>\r\n    this.auth.currentUser.updatePassword(password);\r\n  \r\n  // *** User API ***\r\n\r\n  user = uid => this.db.ref(`users/${uid}`);\r\n\r\n  users = () => this.db.ref('users');\r\n\r\n  /**\r\n   * Creates the profile for the user\r\n   * @param {String} username \r\n   * @param {String} email \r\n   */\r\n  async createProfile(username, email) {\r\n    const date = new Date();\r\n\r\n    const data = {\r\n      Email: email,\r\n      Username: username,\r\n      Timestamp: date\r\n    }\r\n    \r\n    await this.firestore.collection('User').doc(email).set(data);    \r\n  }\r\n\r\n  /**\r\n   * Gets the user's username when logging in\r\n   * @param {string} username \r\n   */\r\n  async loadProfile(email) {\r\n    const profile = await this.firestore.collection('User').doc(email).get();    \r\n\r\n    return profile.data();\r\n  }\r\n\r\n  /**\r\n   * Gets the profile details for the profile page\r\n   * @param {String} email \r\n   */\r\n  async getProfile(username) {\r\n    const profile = await this.firestore.collection('User').where(\"Username\", \"==\", username).get();    \r\n\r\n    return profile.docs.map(doc => doc.data());\r\n  }\r\n\r\n  /**\r\n   * Create the post and store in the proper collections\r\n   * @param {String} title \r\n   * @param {String} link \r\n   * @param {String} username \r\n   */\r\n  async createPost(title, link, username) {\r\n    // console.log(this.auth.currentUser)\r\n    // if(!this.auth.currentUser) return null;\r\n\r\n    const data = {\r\n      Username: username,\r\n      Title: title,\r\n      Link: link\r\n    }\r\n\r\n    const id = await this.getID(\"Post\", title, \"Title\");\r\n    console.log(id[0]);\r\n    if(id[0] !== undefined) return false;\r\n\r\n    await this.firestore.collection('Post').add(data);\r\n    await this.firestore.collection('Likes').add({\r\n      Total: 0, \r\n      Title: title\r\n    })\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Increments the count for likes by 1\r\n   * @param {String} title \r\n   * @param {String} count \r\n   * @param {String} email \r\n   */\r\n  async upvote(title, count, email) {\r\n    const getLikeId = await this.getID(\"Likes\", title, \"Title\");\r\n    const likeId = getLikeId[0];\r\n\r\n    let value = count\r\n    value = value + 1;\r\n\r\n    console.log(value);\r\n    \r\n    const upvote = await this.firestore.collection(\"Likes\").doc(likeId).update({Total: value});\r\n    const addLike = await this.firestore.collection(\"User\").doc(email).collection(\"Post\").doc(title).set({isLiked: true})\r\n  }\r\n\r\n  /**\r\n   * Decrements the count for likes by 1\r\n   * @param {String} title \r\n   * @param {String} count \r\n   * @param {String} email \r\n   */\r\n  async downvote(title, count, email) {\r\n    const getLikeId = await this.getID(\"Likes\", title, \"Title\");\r\n    const likeId = getLikeId[0];\r\n\r\n    let value = count\r\n    value = value - 1;\r\n    if(value === -1) value = 0;\r\n    \r\n    const upvote = await this.firestore.collection(\"Likes\").doc(likeId).update({Total: value});\r\n    const addLike = await this.firestore.collection(\"User\").doc(email).collection(\"Post\").doc(title).delete();\r\n  }\r\n\r\n  /**\r\n   * Deletes all instances of the post in the collections\r\n   * @param {String} title \r\n   */\r\n  async removePost(title) {\r\n    //Get the UID tokens from each collection\r\n    const getPostId = await this.getID(\"Post\", title, \"Title\");\r\n    const getLikeId = await this.getID(\"Likes\", title, \"Title\");\r\n    const getCommentId = await this.getID(\"Comments\", title, \"Post\");\r\n\r\n    //Get the ids from the calls above\r\n    const id = getPostId[0];\r\n    const likeId = getLikeId[0];\r\n\r\n    //Remove the instance of the Post\r\n    const updatePost = await this.firestore.collection(\"Post\").doc(id).delete();\r\n    const updateLike = await this.firestore.collection(\"Likes\").doc(likeId).delete();\r\n    if(getCommentId !== null || getCommentId !== undefined) {\r\n      for (const comment of getCommentId) {\r\n        const updateComment = await this.firestore.collection(\"Comments\").doc(comment).delete();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  /**\r\n   * Updates all instances of the post \r\n   * @param {String} oldTitle \r\n   * @param {String} title \r\n   * @param {String} link \r\n   * @param {String} username \r\n   */\r\n  async updatePost(oldTitle, title, link, username) {\r\n    // console.log(this.auth.currentUser)\r\n    // if(!this.auth.currentUser) return null;\r\n    const data = {\r\n      Username: username,\r\n      Title: title,\r\n      Link: link\r\n    }\r\n\r\n    const getLikes = await this.loadLikes(oldTitle);\r\n\r\n    //Get the UID tokens from each collection\r\n    const getPostId = await this.getID(\"Post\", oldTitle, \"Title\");\r\n    const getLikeId = await this.getID(\"Likes\", oldTitle, \"Title\");\r\n    const getCommentId = await this.getID(\"Comments\", oldTitle, \"Post\");\r\n\r\n    //Get the ids from the calls above\r\n    const id = getPostId[0];\r\n    const likeId = getLikeId[0];\r\n    const commentId = getCommentId[0];\r\n\r\n    //Update the corresponding fields in each collection\r\n    const updatePost = await this.firestore.collection(\"Post\").doc(id).set(data);\r\n    const updateLike = await this.firestore.collection(\"Likes\").doc(likeId).update({\r\n      Title: title\r\n    });\r\n    const updateComment = await this.firestore.collection(\"Comments\").doc(commentId).update({\r\n      Post: title\r\n    });\r\n\r\n    //add like total to update in the frontend\r\n    data.Total = getLikes[0].Total;\r\n\r\n    return data;\r\n  }\r\n\r\n  /**\r\n   * Helper Method to get the ID for items\r\n   * @param {String} collection \r\n   * @param {String} parameter \r\n   * @param {String} string \r\n   */\r\n  async getID(collection, parameter, string) {\r\n    const getUid = await this.firestore.collection(collection).where(string, \"==\", parameter).get();\r\n\r\n    return getUid.docs.map(doc => doc.id);\r\n  }\r\n  \r\n  /**\r\n   * Method will be used for creating\r\n   * New comment\r\n   * \r\n   * @param {string} title \r\n   * @param {string} comment \r\n   * @param {string} email \r\n   */\r\n  async commentPost(title, comment, name) {\r\n    // console.log(this.auth.currentUser)\r\n    // if(!this.auth.currentUser) return null;\r\n    const data = {\r\n      Post: title,\r\n      Comment: comment,\r\n      Name: name\r\n    }\r\n\r\n    const addComment = await this.firestore.collection(\"Comments\").add(data)\r\n  }\r\n\r\n  /**\r\n   * Updates the comment\r\n   * @param {String} oldComment \r\n   * @param {String} comment \r\n   */\r\n  async updateComment(oldComment, comment) {\r\n    const getCommentId = await this.getID(\"Comments\", oldComment, \"Comment\");\r\n    const commentId = getCommentId[0];\r\n\r\n    const updateComment = await this.firestore.collection(\"Comments\").doc(commentId).update({\r\n      Comment: comment\r\n    })\r\n\r\n  }\r\n\r\n  /**\r\n   * Deletes the comment from under the post\r\n   * @param {String} comment \r\n   * @param {String} username \r\n   */\r\n  async deleteComment(comment, username) {\r\n    const findComment = await this.firestore.collection(\"Comments\").where(\"Comment\", \"==\", comment).where(\"Name\", \"==\", username).get()\r\n    const getId = findComment.docs.map(doc => doc.id);\r\n    \r\n    const removeComment = await this.firestore.collection(\"Comments\").doc(getId[0]).delete();\r\n  }\r\n\r\n  async loadPosts() {\r\n    const getPosts = await this.firestore.collection(\"Post\").get();\r\n    let postArray = [];\r\n    getPosts.forEach(async (post) => {\r\n      postArray.push(post.data())\r\n    })\r\n\r\n    return postArray;\r\n  }\r\n\r\n  async loadComments(title) {\r\n    const getComments = await this.firestore.collection(\"Comments\").where(\"Post\", \"==\", title).get();\r\n\r\n    const val = getComments.docs.map(doc => doc.data());\r\n    return val;\r\n  }\r\n\r\n  async loadLikes(title) {\r\n    const getComments = await this.firestore.collection(\"Likes\").where(\"Title\", \"==\", title).get();\r\n\r\n    return getComments.docs.map(doc => doc.data());\r\n  }\r\n\r\n  async getTotalComments(title) {\r\n    const getTotalComments = await this.firestore.collection(\"Comments\").where(\"Post\", \"==\", title).get();\r\n\r\n    const val = getTotalComments.docs.map(doc => doc.data());\r\n    return val.length;\r\n  }\r\n\r\n  async getUserPostsLikes(email) {\r\n    if(email === null) return null;\r\n    const getUserLikes = await this.firestore.collection(\"User\").doc(email).collection(\"Post\").get();\r\n    return getUserLikes.docs.map(doc => doc.id);\r\n  }\r\n\r\n  async getUserComments(username) {\r\n    if(username === null) return null;\r\n\r\n    const getUserComments = await this.firestore.collection(\"Comments\").where(\"Name\", \"==\", username).get();\r\n    const getData = getUserComments.docs.map(doc => doc.id);\r\n    \r\n    return getData.length;\r\n  }\r\n\r\n  async getUserPosts(username) {\r\n    if(username === null) return null;\r\n      const getUserPosts = await this.firestore.collection(\"Post\").where(\"Username\", \"==\", username).get();\r\n\r\n      return getUserPosts.docs.map(doc => doc.data());\r\n  }\r\n}\r\n \r\nexport default Firebase;","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\n \r\nexport default Firebase;\r\n \r\nexport { FirebaseContext, withFirebase };","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Card, Container, Row, Col } from 'react-bootstrap';\r\nimport { FirebaseContext } from \"./firebase\";\r\n\r\nfunction Profile(props) {\r\n    const [author, setAuthor] = useState(props.location.state.Author)\r\n    const [timestamp, setTimestamp] = useState({Timestamp: ''})\r\n    const [karma, setKarma] = useState({Karma: 0});\r\n    const [comments, setComments] = useState({Comments: 0});\r\n    const [post, setPost] = useState({Post: []})\r\n    const firebase = useContext(FirebaseContext);\r\n\r\n    const convertToDate = (info) => {\r\n        console.log(info)\r\n        const toDate = new Date(0)\r\n        toDate.setUTCSeconds(info[0].Timestamp.seconds);\r\n        return toDate.toString()\r\n    }    \r\n\r\n    useEffect(() => {\r\n        const getProfile = firebase.getProfile(author);\r\n        getProfile.then(info => {\r\n            console.log(info)\r\n            setTimestamp({Timestamp: convertToDate(info)});\r\n            const getTotalLikes = firebase.getUserPostsLikes(info[0].Email)\r\n            getTotalLikes.then(likes => {\r\n                setKarma({Karma: likes.length});\r\n            })\r\n        })\r\n\r\n        const getCommentTotal = firebase.getUserComments(author);\r\n        getCommentTotal.then(res => {\r\n            setComments({Comments: res});\r\n        })\r\n\r\n        const getPostTotal = firebase.getUserPosts(author);\r\n        getPostTotal.then(post => {\r\n            setPost({Post: post.length});\r\n        })\r\n    }, []);\r\n\r\n    const convertToKarma = () => {\r\n        const likes = karma.Karma;\r\n        const convert = likes * 2;\r\n\r\n        const comment = comments.Comments;\r\n        const convertComments = comment * 3\r\n\r\n        const posts = post.Post;\r\n        const convertPost = posts * 4;\r\n\r\n        return convert + convertComments + convertPost;\r\n    }\r\n\r\n    return (\r\n        <Container fluid>\r\n            <Row>\r\n                <Col md={{ span: 5, offset: 3 }}>\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <Card.Title>Profile Page</Card.Title>\r\n                            <Card.Text>\r\n                                <strong>User:</strong> {author}\r\n                                <br></br>\r\n                                <br></br>\r\n                                <strong>Account created on:</strong> {timestamp.Timestamp}\r\n                                <br></br>\r\n                                <br></br>\r\n                                <strong>Total Posts Likes:</strong> {karma.Karma}\r\n                                <br></br>\r\n                                <br></br>\r\n                                <strong>Karma:</strong> {convertToKarma(karma.Karma)}\r\n                                <br></br>\r\n                                <br></br>\r\n                                <strong>Posts Created:</strong> {post.Post}\r\n                                \r\n                            </Card.Text>\r\n                        </Card.Body>  \r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React, { useState, useContext, useEffect } from 'react';\r\nimport { FirebaseContext } from \"./firebase\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCaretUp, faCaretDown } from '@fortawesome/free-solid-svg-icons'\r\nimport '../css/Upvote.css';\r\n\r\nexport default function Upvote(props) {\r\n    const [liked, setLiked] = useState({Liked: false});\r\n    const [posts, setPosts] = useState({Posts: []});\r\n    const firebase = useContext(FirebaseContext);\r\n    const getEmail = localStorage.getItem('Email');\r\n    \r\n    useEffect(() => {\r\n        if(getEmail === null){\r\n            \r\n        }else{\r\n            const getAllLikedPosts = firebase.getUserPostsLikes(getEmail);\r\n            getAllLikedPosts.then(titles => {\r\n                setPosts({Posts: titles});\r\n                if(titles.includes(props.title)) {\r\n                    setLiked({Liked: true})\r\n                }\r\n            })\r\n        }\r\n    }, [])\r\n\r\n    const clicked = () => {\r\n        if(getEmail === null){\r\n\r\n        }else{\r\n            if(liked.Liked) {\r\n                setLiked({Liked: false});\r\n                firebase.downvote(props.title, props.likes.Total, getEmail);\r\n            } else {\r\n                setLiked({Liked: true});\r\n                firebase.upvote(props.title, props.likes.Total, getEmail);   \r\n            }\r\n        }\r\n    }\r\n\r\n    if(!liked.Liked) {\r\n        return (\r\n            <div className=\"liked-icon\" onClick={() => clicked()}>\r\n                <FontAwesomeIcon icon={faCaretUp} />\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div className=\"unliked-icon\" onClick={() => clicked()}>\r\n                <FontAwesomeIcon icon={faCaretDown} />\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport '../css/PostTile.css';\r\nimport Upvote from './Upvote';\r\n\r\nexport default function PostTile(props) {\r\n    const history = useHistory();\r\n    const [likes, setLikes] = useState({Likes: {Total: 0}});\r\n    const [commentTotal, setCommentTotal] = useState({Comments: 0});\r\n\r\n\r\n    console.log(likes.Likes.Total);\r\n    useEffect(() => {\r\n        const getLikes = props.firebase.loadLikes(props.title);\r\n        getLikes.then(count => {\r\n            console.log(count)\r\n            if(count.length !== 0) {\r\n                console.log('here')\r\n                console.log(count[0])\r\n                setLikes({Likes: count[0]});\r\n            }\r\n        })\r\n\r\n        const getNumComments = props.firebase.getTotalComments(props.title);\r\n        getNumComments.then(num => {\r\n            setCommentTotal({Comments: num});\r\n        })\r\n\r\n    }, [])\r\n\r\n    const onClick = () => {\r\n        history.push({\r\n            pathname: `/comment/${props.title}`,\r\n            state: {\r\n                Title: props.title,\r\n                Likes: likes.Likes,\r\n                Author: props.author,\r\n                Link: props.link\r\n            }\r\n         })\r\n    }\r\n\r\n    const profile = () => {\r\n        history.push({\r\n            pathname: `/profile/${props.author}`,\r\n            state: {\r\n                Author: props.author\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"total-tile-layout\">\r\n            <p className=\"order-number\">{props.number}.</p>\r\n            <Upvote title={props.title} likes={likes.Likes} />\r\n            <div className=\"tile-layout\">\r\n                <div className=\"post-information\">\r\n                    <a href={props.link}>{props.title}</a>\r\n                </div>\r\n                \r\n                <div className=\"post-bottom-information\">\r\n                    <p>{likes.Likes.Total} points by \r\n                        <span className=\"profile-redirect\" \r\n                            onClick={() => profile()}>{\" \" + props.author}\r\n                        </span>     \r\n                    </p>\r\n                    <span style={{marginRight: 'calc(0.2vw)', marginLeft: 'calc(0.2vw)'}} >|</span>\r\n                    <p>{commentTotal.Comments} Comments</p>\r\n                    <span style={{marginRight: 'calc(0.2vw)', marginLeft: 'calc(0.2vw)'}} >|</span>\r\n                    <p onClick={() => onClick()} className=\"comment-link\">Comment</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext } from 'react';\r\nimport { FirebaseContext } from \"./firebase\";\r\nimport PostTile from './PostTile';\r\nimport '../css/Home.css';\r\n\r\nclass Home extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            Posts: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        setTimeout(() => {\r\n            const getPosts = this.props.firebase.loadPosts();\r\n            getPosts.then(posts => {\r\n                this.setState({Posts: posts});  \r\n            }) \r\n        }, 1000)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"post-layout\">\r\n                <div className=\"post-container\">\r\n                    {this.state.Posts.map((post, index) => {\r\n                        console.log(post);\r\n                        return (\r\n                            <PostTile title={post.Title} author={post.Username} link={post.Link} firebase={this.props.firebase} number={index+1}/>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default function HomeFunction(props) {\r\n    const value = useContext(FirebaseContext);\r\n    \r\n    return <Home firebase={value} props={props}></Home>\r\n}\r\n","import React from 'react';\r\n \r\nconst AuthUserContext = React.createContext(null);\r\n \r\nexport default AuthUserContext;","import React from \"react\";\r\n\r\nimport AuthUserContext from \"./context\";\r\nimport { withFirebase } from \"../firebase\";\r\n\r\nconst withAuthentication = (Component) => {\r\n  class WithAuthentication extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        authUser: null,\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        (authUser) => {\r\n          authUser\r\n            ? this.setState({ authUser })\r\n            : this.setState({ authUser: null });\r\n        }\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Provider value={this.state.authUser}>\r\n          <Component {...this.props} />\r\n        </AuthUserContext.Provider>\r\n      );\r\n    }\r\n  }\r\n\r\n  return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;\r\n","import React from \"react\";\r\nimport { withRouter } from \"../../../node_modules/react-router-dom\";\r\nimport { compose } from \"recompose\";\r\n\r\nimport AuthUserContext from \"./context\";\r\nimport { withFirebase } from \"../firebase\";\r\n\r\nconst Authorization = (condition, route) => (Component) => {\r\n  class Authorization extends React.Component {\r\n    componentDidMount() {\r\n      this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n        (authUser) => {\r\n          if (!condition(authUser)) {\r\n            this.props.history.push(route);\r\n          }\r\n        }\r\n      );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n      this.listener();\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <AuthUserContext.Consumer>\r\n          {authUser =>\r\n            condition(authUser) ? <Component {...this.props} /> : null\r\n          }\r\n        </AuthUserContext.Consumer>\r\n      );\r\n    }\r\n  }\r\n\r\n  return compose(withRouter, withFirebase)(Authorization);\r\n};\r\n\r\nexport default Authorization;\r\n","import React, { useState, useContext } from 'react';\r\nimport { FirebaseContext } from \"./firebase\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash, faEdit } from '@fortawesome/free-solid-svg-icons';\r\nimport { Form, OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport '../css/Comment.css';\r\n\r\nexport default function EditComment(props) {\r\n    const firebase = useContext(FirebaseContext);\r\n    const [newComment, setNewComment] = useState({Comment: ''});\r\n    const [show, setShow] = useState(true);\r\n    let comment = props.comment\r\n\r\n    const tooltip = () => {\r\n        return (\r\n            <Tooltip>\r\n                Edit comment\r\n            </Tooltip>\r\n        )\r\n    }\r\n\r\n    const editComment = () => {\r\n        if(show) {\r\n            setShow(!show);\r\n        } else {\r\n            const updateComment = firebase.updateComment(comment.Comment, newComment.Comment);\r\n            setTimeout(() => {\r\n                setShow(!show);\r\n                window.location.reload()\r\n            }, 1000);\r\n        }\r\n    }\r\n\r\n    \r\n    if(show) {\r\n        return (\r\n            <div>\r\n                <p className=\"comment-p\">{comment.Comment}</p>\r\n                {localStorage.getItem('Username') === comment.Name ? \r\n                <OverlayTrigger placement=\"right\" overlay={tooltip()} delay={{ show: 200, hide: 200}}>\r\n                    <div className=\"comment-edit\" \r\n                        onClick={(e) => editComment()}>\r\n                        <FontAwesomeIcon icon={faEdit}/>\r\n                    </div>\r\n                </OverlayTrigger> : null}\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div>\r\n                <Form>\r\n                    <Form.Control defaultValue={comment.Comment} onChange={(e) => setNewComment({Comment: e.target.value})}></Form.Control>\r\n                </Form>\r\n                {localStorage.getItem('Username') === comment.Name ? \r\n                    <OverlayTrigger placement=\"right\" overlay={tooltip()} delay={{ show: 200, hide: 200}}>\r\n                        <div className=\"comment-edit\" \r\n                            onClick={(e) => editComment()}>\r\n                            <FontAwesomeIcon icon={faEdit}/>\r\n                        </div>\r\n                    </OverlayTrigger> : null}\r\n            </div>\r\n        )\r\n    }\r\n}","/* Temp routes for testing, update later for prod */\r\nexport const ROUTES = {\r\n    PROFILE: \"/profile/:name\",\r\n    CREATE: \"/create_story\",\r\n    LOGIN: \"/login\",\r\n    SIGNUP: \"/signup\",\r\n    FORGOT_PASSWORD: \"/forgot_password\",\r\n    HOME: \"/\",\r\n    COMMENT: \"/comment/:title\"\r\n  };","import React, { useContext } from 'react';\r\nimport { FirebaseContext } from \"./firebase\";\r\nimport '../css/Comment.css';\r\nimport { Row, Container, Col, Form, Button, OverlayTrigger, Tooltip } from 'react-bootstrap';\r\nimport { Authorization } from './session';\r\nimport Upvote from './Upvote';\r\nimport EditComment from './EditComment';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrash, faEdit } from '@fortawesome/free-solid-svg-icons'\r\nimport { ROUTES } from \"../routes\";\r\n\r\nlet titlePost = '';\r\n\r\nclass Comment extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        console.log(props.prop.location.state)\r\n\r\n        this.state = {\r\n            Author: props.prop.location.state.Author,\r\n            Likes: props.prop.location.state.Likes,\r\n            Title: props.prop.location.state.Title,\r\n            Link: props.prop.location.state.Link,\r\n            CommentTotal: 0,\r\n            Comments: [],\r\n            Text: '',\r\n            NewTitle: '',\r\n            ShowTextbox: false,\r\n        }\r\n\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.remove = this.remove.bind(this);\r\n        this.editTitle = this.editTitle.bind(this);\r\n        this.deletePost = this.deletePost.bind(this);\r\n        this.tooltipDelete = this.tooltipDelete.bind(this);\r\n        this.tooltipEdit = this.tooltipEdit.bind(this);\r\n        this.redirect = this.redirect.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        titlePost = this.state.Title;\r\n        const getNumComments = this.props.firebase.getTotalComments(this.state.Title);\r\n        getNumComments.then(num => {\r\n            this.setState({CommentTotal: num});\r\n        })  \r\n        \r\n        const loadComments = this.props.firebase.loadComments(this.state.Title);\r\n        loadComments.then(comments => {\r\n            console.log(comments)\r\n            this.setState({Comments: comments})\r\n        })   \r\n    }\r\n\r\n    handleClick() {\r\n        const text = this.state.Text;\r\n        const username = localStorage.getItem('Username');\r\n        const addComment = this.props.firebase.commentPost(this.state.Title, text, username);\r\n        this.setState({Text: ''});\r\n\r\n        this.componentDidMount();\r\n    }\r\n\r\n    remove(comment, name) {\r\n        const removeComment = this.props.firebase.deleteComment(comment, name);\r\n        setTimeout(() => {\r\n            window.location.reload();\r\n        }, 1000)\r\n    }\r\n\r\n    editTitle() {\r\n        if(this.state.ShowTextbox) {\r\n            if(this.state.NewTitle === '') return;\r\n            console.log('here');\r\n            const updateTitle = this.props.firebase.updatePost(this.state.Title, this.state.NewTitle, this.state.Link, this.state.Author);\r\n            updateTitle.then(data => {\r\n                console.log(data);\r\n                this.setState({\r\n                    Author: data.Username,\r\n                    Likes: data.Total,\r\n                    Title: data.Title,\r\n                    Link: data.Link\r\n                })\r\n            })\r\n            this.setState({ShowTextbox: false, NewTitle: ''});\r\n        } else {\r\n            this.setState({ShowTextbox: true});\r\n        }\r\n    }\r\n\r\n    deletePost() {\r\n        this.props.firebase.removePost(this.state.Title);\r\n        console.log(this.props)\r\n        this.props.prop.history.push(\"/\")\r\n    }\r\n\r\n    tooltipDelete(tag) {\r\n        return (\r\n            <Tooltip>\r\n                Delete {tag}\r\n            </Tooltip>\r\n        )\r\n    }\r\n\r\n    tooltipEdit(tag) {\r\n        return (\r\n            <Tooltip>\r\n                Edit {tag}\r\n            </Tooltip>\r\n        )\r\n    }\r\n\r\n    redirect() {\r\n        this.props.prop.history.push({\r\n            pathname: `/profile/${this.state.Author}`,\r\n            state: {\r\n                Author: this.state.Author\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"comment-layout\">\r\n                <div className=\"comment-background\">\r\n                    <Container fluid>\r\n                        <Row>\r\n                            <Col md={{ span: 4, offset: 1 }}>\r\n                                <div className=\"post-description\">\r\n                                    <div className=\"post-header-text\">\r\n                                        <p className=\"post-title\"><strong><a href={this.state.Link}>{this.state.Title}</a></strong></p>\r\n                                        {localStorage.getItem('Username') == this.state.Author ? \r\n                                        <OverlayTrigger placement=\"right\" overlay={this.tooltipEdit(\"Title\")} delay={{ show: 200, hide: 200}}>\r\n                                            <div className=\"edit-title\" onClick={() => this.editTitle()}>\r\n                                                <FontAwesomeIcon icon={faEdit} />\r\n                                            </div>\r\n                                        </OverlayTrigger> : null}\r\n                                    </div>\r\n\r\n                                    {localStorage.getItem('Username') == this.state.Author ? \r\n                                        <OverlayTrigger placement=\"right\" overlay={this.tooltipDelete(\"Post\")} delay={{ show: 200, hide: 200}}>\r\n                                            <div className=\"delete-post\" onClick={() => this.deletePost()}>\r\n                                                <FontAwesomeIcon icon={faTrash} />\r\n                                            </div>\r\n                                        </OverlayTrigger> : null}\r\n\r\n                                    <p className=\"post-info\"><Upvote title={this.state.Title} likes={this.state.Likes} />\r\n                                    {\" \"}{this.state.Likes.Total} points by \r\n                                        <div onClick={() => this.redirect()} className=\"author-link\">\r\n                                            {this.state.Author}\r\n                                        </div> | {this.state.CommentTotal} comments </p>\r\n                                </div>\r\n                                {this.state.ShowTextbox ? \r\n                                    <Row>\r\n                                        <Col md={{ span: 5, offset: 0 }}>\r\n                                            <Form.Group controlId=\"exampleForm.ControlTextarea1\" >\r\n                                                <Form.Control  \r\n                                                    type=\"text\"\r\n                                                    onChange={(e) => this.setState({NewTitle: e.target.value})}\r\n                                                    value={this.state.NewTitle}\r\n                                                    placeholder=\"Enter new title here...\"\r\n                                                    />\r\n                                            </Form.Group>\r\n                                        </Col>\r\n                                    </Row> : null }\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        {localStorage.getItem('Username') ? \r\n                        <div>\r\n                            <Row>\r\n                                <Col md={{ span: 5, offset: 1 }}>\r\n                                    <Form.Group controlId=\"exampleForm.ControlTextarea1\" >\r\n                                        <Form.Control as=\"textarea\" rows=\"4\" \r\n                                            type=\"text\"\r\n                                            onChange={(e) => this.setState({Text: e.target.value})}\r\n                                            value={this.state.Text}\r\n                                            placeholder=\"Enter comment here...\"\r\n                                            />\r\n                                    </Form.Group>\r\n                                </Col>\r\n                            </Row> \r\n                            \r\n                            <Row>\r\n                                <Col md={{ span: 5, offset: 1 }}>\r\n                                    <Button onClick={() => this.handleClick()}>\r\n                                        Submit\r\n                                    </Button>\r\n                                </Col>\r\n                            </Row> \r\n                        </div>: null}\r\n\r\n                    </Container>\r\n\r\n                    <div className=\"comment-div\">\r\n                        <div className=\"comment-container\">\r\n                            {this.state.Comments.map(comment => {\r\n                                if(comment === null) return;\r\n                                return (\r\n                                    <div className=\"comment-node\" key={comment.Comment}>\r\n                                        <h5>{comment.Name}</h5>\r\n                                        <EditComment comment={comment} />\r\n                                        {localStorage.getItem('Username') === comment.Name ? \r\n                                        <OverlayTrigger placement=\"right\" overlay={this.tooltipDelete(\"Comment\")} delay={{ show: 200, hide: 200}}>\r\n                                            <div className=\"comment-delete\" \r\n                                                onClick={() => this.remove(comment.Comment, comment.Name)}>\r\n                                                <FontAwesomeIcon icon={faTrash}/>\r\n                                            </div>\r\n                                        </OverlayTrigger> : null}\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction CommentFunction(props) {\r\n    const value = useContext(FirebaseContext);\r\n    \r\n    return <Comment firebase={value} prop={props}></Comment>\r\n}\r\n\r\nexport default CommentFunction;","import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport Authorization from './session/Authorization';\r\nimport { FirebaseContext } from \"./firebase\";\r\nimport { Container, Col, Row, Form, Button } from 'react-bootstrap';\r\n\r\nfunction CreateStory() {\r\n    const [url, setUrl] = useState('');\r\n    const [title, setTitle] = useState('');\r\n    const [validationUrl, setValidationUrl] = useState(false);\r\n    const [validationTitle, setValidationTitle] = useState(false);\r\n    const [unique, setUnique] = useState(false);\r\n    const firebase = useContext(FirebaseContext);\r\n    const history = useHistory();\r\n\r\n    const isValidUrl = () => {\r\n        let isTrue = true;\r\n        if(!url.includes(\".com\")) isTrue = false;\r\n        if(!url.includes(\"http://\")) isTrue = false;\r\n        if(!url.includes(\"https://\")) isTrue = false;\r\n        return isTrue;\r\n    }\r\n\r\n    const isValidTitle = () => {\r\n        const isValid = title === '' ? false : true;\r\n        return isValid;\r\n    }\r\n\r\n    const submit = () => {\r\n        const isTitleTrue = !isValidTitle() ? setValidationTitle(true) : setValidationTitle(false);\r\n        const isUrlTrue = !isValidUrl() ? setValidationUrl(true) : setValidationUrl(false);\r\n\r\n        if(title && url) {\r\n            const username = localStorage.getItem('Username')\r\n            const createPost = firebase.createPost(title, url, username);\r\n            createPost.then(title => {\r\n                if(!title) {\r\n                    setUnique(true)\r\n                    setValidationTitle(true)\r\n                    return;\r\n                } else {\r\n                    history.push('/');\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    console.log(unique);\r\n    return (\r\n        <Container fluid>\r\n            <Row>\r\n                <Col md={{ span: 4, offset: 1 }}>\r\n                    <Form>\r\n                        <Form.Group controlId=\"formGroupEmail\">\r\n                            <Form.Label>Title</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Enter Title\" \r\n                                onChange={(e) => {\r\n                                    setTitle(e.target.value)\r\n                                    setUnique(false)\r\n                                    setValidationTitle(false)\r\n                                }}\r\n                                isInvalid={validationTitle}\r\n                            />\r\n                            {!unique && <Form.Control.Feedback type=\"invalid\">\r\n                                Please enter a valid Title\r\n                            </Form.Control.Feedback>}\r\n\r\n                            {unique && <Form.Control.Feedback type=\"invalid\">\r\n                                This title is already taken. Please enter a new one!\r\n                            </Form.Control.Feedback>}\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formGroupPassword\">\r\n                            <Form.Label>URL</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Enter Valid URL\" \r\n                            onChange={(e) => {\r\n                                setUrl(e.target.value)\r\n                                setValidationUrl(false)\r\n                            }}\r\n                            isInvalid={validationUrl}\r\n                            />\r\n                            <Form.Control.Feedback type=\"invalid\">\r\n                                Please enter a valid url\r\n                            </Form.Control.Feedback>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n                <Col md={{ span: 4, offset: 1 }}>\r\n                    <Button onClick={() => submit()}>Create Post</Button>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    );\r\n}\r\n\r\nconst condition = authUser => !!authUser;\r\n\r\nexport default Authorization(condition)(CreateStory);","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { withFirebase } from \"../firebase\";\r\nimport { ROUTES } from \"../../routes\";\r\n\r\nconst ForgetPasswordPage = () => (\r\n  <div>\r\n    <h1>Forget Password</h1>\r\n    <ForgetPasswordForm />\r\n  </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n  email: \"\",\r\n  error: null,\r\n};\r\n\r\nclass ForgetPasswordFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = (event) => {\r\n    const { email } = this.state;\r\n\r\n    this.props.firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, error } = this.state;\r\n    const isInvalid = email === \"\";\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"email\"\r\n          value={this.state.email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <button disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst ForgetPasswordLink = () => (\r\n  <p>\r\n    <Link to={ROUTES.FORGOT_PASSWORD}>Forgot Password?</Link>\r\n  </p>\r\n);\r\n\r\nexport default ForgetPasswordPage;\r\n\r\nconst ForgetPasswordForm = withFirebase(ForgetPasswordFormBase);\r\n\r\nexport { ForgetPasswordForm, ForgetPasswordLink };","import React, { Component } from \"react\";\r\nimport {Link, withRouter} from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport { withFirebase } from '../firebase';\r\nimport { ROUTES } from \"../../routes\";\r\n \r\nclass SignUpPage extends Component{\r\n render(){\r\n     return(\r\n        <div>\r\n        <h1>SignUp</h1>\r\n        <SignUpForm />\r\n      </div>\r\n     );\r\n } \r\n}\r\n\r\nconst INITIAL_STATE = {\r\n    username: '',\r\n    email: '',\r\n    passwordOne: '',\r\n    passwordTwo: '',\r\n    error: null,\r\n};\r\n\r\nclass SignUpFormBase extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = { ...INITIAL_STATE };\r\n    }\r\n\r\n    onSubmit = event => {\r\n        const { username, email, passwordOne } = this.state;\r\n\r\n        this.props.firebase\r\n            .doCreateUserWithEmailAndPassword(email, passwordOne)\r\n            .then(authUser => {\r\n                return this.props.firebase\r\n                  .user(authUser.user.uid)\r\n                  .set({\r\n                    username,\r\n                    email,\r\n                });\r\n            })\r\n            .then(() =>{\r\n                this.setState({ ...INITIAL_STATE});\r\n                this.props.firebase.createProfile(username, email);\r\n                localStorage.setItem('Email', email);\r\n                localStorage.setItem('Username', username);\r\n                this.props.history.push(ROUTES.HOME);\r\n            })\r\n            .catch(error => {\r\n                this.setState({ error });\r\n            })\r\n        event.preventDefault();\r\n    };\r\n\r\n    onChange = event => {\r\n        this.setState({[event.target.name]: event.target.value });\r\n    };\r\n\r\n    render(){\r\n        const {\r\n            username,\r\n            email,\r\n            passwordOne,\r\n            passwordTwo,\r\n            error,\r\n        } = this.state;\r\n\r\n        const isInvalid =\r\n        passwordOne !== passwordTwo ||\r\n        passwordOne === '' ||\r\n        email === '' ||\r\n        username === '';\r\n\r\n        return(\r\n            <form onSubmit={this.onSubmit}>\r\n                <p>Enter Your Username:</p>\r\n                <input\r\n                    name= \"username\"\r\n                    value= {username}\r\n                    onChange= {this.onChange}\r\n                    type= \"text\"\r\n                    placeholder= \"Enter Username\"\r\n                />\r\n                <p>Enter Your Email:</p>\r\n                <input\r\n                    name= \"email\"\r\n                    value= {email}\r\n                    onChange= {this.onChange}\r\n                    type= \"email\"\r\n                    placeholder= \"Email Address\"\r\n                />\r\n                <br />\r\n                <p>Enter Password:</p>\r\n                <input\r\n                    name= \"passwordOne\"\r\n                    value= {passwordOne}\r\n                    onChange= {this.onChange}\r\n                    type= \"password\"\r\n                    placeholder= \"Password\"\r\n                />\r\n                <p>Confirm Password:</p>\r\n                <input\r\n                    name= \"passwordTwo\"\r\n                    value= {passwordTwo}\r\n                    onChange= {this.onChange}\r\n                    type= \"password\"\r\n                    placeholder= \"Confirm Password\"\r\n                />\r\n                <button disabled={isInvalid} type=\"submit\">Sign Up</button>\r\n                {error && <p>{error.message}</p>}\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nconst SignUpLink = () =>(\r\n    <p>\r\n        Dont have an account? <Link to={ROUTES.SIGNUP}>Sign Up</Link>\r\n    </p>\r\n);\r\n\r\nconst SignUpForm = compose(\r\n    withRouter,\r\n    withFirebase,\r\n)(SignUpFormBase);\r\n\r\nexport default SignUpPage;\r\n\r\nexport {SignUpForm, SignUpLink};","import React, { Component } from \"react\";\r\nimport { withRouter } from \"../../../node_modules/react-router-dom\";\r\nimport { compose } from \"recompose\";\r\n\r\nimport { ForgetPasswordLink } from \"./forgotPassword\";\r\nimport { SignUpLink } from \"./signup\";\r\nimport { withFirebase } from \"../firebase\";\r\nimport { ROUTES } from \"../../routes\";\r\n\r\n\r\nclass LoginIn extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>SignIn</h1>\r\n        <LogInForm />\r\n        <ForgetPasswordLink />\r\n        <SignUpLink />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst INITIAL_STATE = {\r\n  email: \"\",\r\n  password: \"\",\r\n  error: null,\r\n};\r\n\r\nclass LogInFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n\r\n  onSubmit = (event) => {\r\n    const { email, password } = this.state;\r\n\r\n    this.props.firebase\r\n      .doSignInWithEmailAndPassword(email, password)\r\n      .then(() => {\r\n        localStorage.setItem('Email', email);\r\n        const getProfile = this.props.firebase.loadProfile(email)\r\n        getProfile.then(profile => {\r\n          console.log(profile);\r\n          localStorage.setItem('Username', profile.Username);  \r\n        })\r\n        this.setState({ ...INITIAL_STATE });\r\n        this.props.history.push(ROUTES.HOME);\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ error });\r\n      });\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  onChange = (event) => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password, error } = this.state;\r\n\r\n    const isInvalid = password === \"\" || email === \"\";\r\n\r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <p>Enter Your Email:</p>\r\n        <input\r\n          name=\"email\"\r\n          value={email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <p>Enter Password:</p>\r\n        <input\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n        />\r\n        <br />\r\n        <button disabled={isInvalid} type=\"submit\">\r\n          Sign In\r\n        </button>\r\n\r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst LogInForm = compose(withRouter, withFirebase)(LogInFormBase);\r\n\r\nexport default LoginIn;\r\n\r\nexport { LogInForm };\r\n","import React from \"react\";\r\nimport { withFirebase } from \"../firebase\";\r\n\r\nconst SignOutButton = ({ firebase }) => (\r\n  <button type=\"button\" onClick={firebase.doSignOut}>\r\n    Sign Out\r\n  </button>\r\n);\r\n\r\nexport default withFirebase(SignOutButton);","import React from \"react\";\r\nimport { Navbar, Nav, Button } from \"react-bootstrap\";\r\nimport { ROUTES } from \"../routes\";\r\nimport { AuthUserContext } from \"./session\";\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport SignOutButton from \"./authentication/signout\";\r\n\r\nconst Navigation = () => (\r\n  <div>\r\n    <AuthUserContext.Consumer>\r\n      {authUser => authUser ? <NavigationAuth /> : <NavigationNonAuth />}\r\n    </AuthUserContext.Consumer>\r\n  </div>\r\n);\r\n\r\nconst NavigationAuth = () => (\r\n  <div className=\"bootstrap-scoped\">\r\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n      <Navbar.Brand href={ROUTES.HOME} className=\"brand-name\">\r\n        Hacker News\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          <Nav.Link href={ROUTES.CREATE}>Create Story</Nav.Link>\r\n        </Nav>\r\n        <Nav.Link className=\"sign_out\" href={ROUTES.HOME}>\r\n          <SignOutButton />\r\n        </Nav.Link>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  </div>\r\n);\r\n\r\nconst NavigationNonAuth = () => (\r\n  <div className=\"bootstrap-scoped\">\r\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n    <Navbar.Brand href={ROUTES.HOME} className=\"brand-name\">\r\n        Hacker News\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n        </Nav>\r\n        <Nav.Link className=\"sign_in\" href={ROUTES.LOGIN}>\r\n          <Button variant=\"outline-info\">\r\n            <b>LogIn</b>\r\n          </Button>\r\n        </Nav.Link>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  </div>\r\n);\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Profile from \"./components/Profile\";\r\nimport HomeFunction from './components/Home';\r\nimport CommentFunction from './components/Comment';\r\nimport createStory from \"./components/createStory\";\r\nimport login from \"./components/authentication/login\";\r\nimport SignUpPage from \"./components/authentication/signup\"\r\nimport forgotPassword from \"./components/authentication/forgotPassword\";\r\nimport Navigation from \"./components/Navigation\"\r\nimport { withAuthentication } from \"./components/session\";\r\n\r\nimport './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n/* Misc */\r\nimport { ROUTES } from \"./routes\";\r\n\r\nconst App = () => (\r\n    <Router>\r\n      <Navigation />\r\n        <Switch>\r\n          <Route exact path={ROUTES.HOME} component={HomeFunction} />\r\n          <Route exact path={ROUTES.COMMENT} component={CommentFunction} />\r\n          <Route exact path={ROUTES.PROFILE} component={Profile} />\r\n          <Route exact path={ROUTES.CREATE} component={createStory} />\r\n          <Route exact path={ROUTES.LOGIN} component={login} />\r\n          <Route exact path={ROUTES.FORGOT_PASSWORD} component={forgotPassword} />\r\n          <Route exact path={ROUTES.SIGNUP} component={SignUpPage} />\r\n        </Switch>\r\n    </Router>\r\n);\r\n\r\nexport default withAuthentication(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport Firebase, { FirebaseContext } from './components/firebase';\r\n\r\nReactDOM.render(\r\n  <FirebaseContext.Provider value={new Firebase()}>\r\n    <App />\r\n  </FirebaseContext.Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}