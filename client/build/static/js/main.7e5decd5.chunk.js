(this["webpackJsonpfalcon-project"]=this["webpackJsonpfalcon-project"]||[]).push([[0],{101:function(e,t,n){},106:function(e,t,n){},111:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),s=n.n(o),c=(n(92),n(20)),l=n(8),i=n(9),u=n(121),m=n(122),p=n(76),h=n(129),f=r.a.createContext(null),d=function(e){return function(t){return r.a.createElement(f.Consumer,null,(function(n){return r.a.createElement(e,Object.assign({},t,{firebase:n}))}))}},v=f,b=n(75),E=n(5),g=n.n(E),k=n(10),w=n(12),C=n(13),O=n(43),j=n.n(O),y=(n(94),n(96),n(98),{apiKey:"AIzaSyD93hKn54YxT1sAE5qKA3DZMyvAz0P6tKQ",authDomain:"falcon-project-f2431.firebaseapp.com",databaseURL:"https://falcon-project-f2431.firebaseio.com",projectId:"falcon-project-f2431",storageBucket:"falcon-project-f2431.appspot.com",messagingSenderId:"555496500915",appId:"1:555496500915:web:831bc1d32d318fa8504ac6",measurementId:"G-E492JJPFVW"}),x=function(){function e(){var t=this;Object(w.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,n){return t.auth.createUserWithEmailAndPassword(e,n)},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){t.auth.signOut(),localStorage.clear()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},j.a.initializeApp(y),this.auth=j.a.auth(),this.db=j.a.database(),this.firestore=j.a.firestore()}return Object(C.a)(e,[{key:"createProfile",value:function(){var e=Object(k.a)(g.a.mark((function e(t,n){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date,r={Email:n,Username:t,Timestamp:a},e.next=4,this.firestore.collection("User").doc(n).set(r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadProfile",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("User").doc(t).get();case 2:return n=e.sent,e.abrupt("return",n.data());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("User").where("Username","==",t).get();case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createPost",value:function(){var e=Object(k.a)(g.a.mark((function e(t,n,a){var r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={Username:a,Title:t,Link:n},e.next=3,this.getID("Post",t,"Title");case 3:if(o=e.sent,console.log(o[0]),void 0===o[0]){e.next=7;break}return e.abrupt("return",!1);case 7:return e.next=9,this.firestore.collection("Post").add(r);case 9:return e.next=11,this.firestore.collection("Likes").add({Total:0,Title:t});case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"upvote",value:function(){var e=Object(k.a)(g.a.mark((function e(t,n,a){var r,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getID("Likes",t,"Title");case 2:return r=e.sent,o=r[0],s=n,s+=1,console.log(s),e.next=9,this.firestore.collection("Likes").doc(o).update({Total:s});case 9:return e.sent,e.next=12,this.firestore.collection("User").doc(a).collection("Post").doc(t).set({isLiked:!0});case 12:e.sent;case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"downvote",value:function(){var e=Object(k.a)(g.a.mark((function e(t,n,a){var r,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getID("Likes",t,"Title");case 2:return r=e.sent,o=r[0],s=n,-1===(s-=1)&&(s=0),e.next=9,this.firestore.collection("Likes").doc(o).update({Total:s});case 9:return e.sent,e.next=12,this.firestore.collection("User").doc(a).collection("Post").doc(t).delete();case 12:e.sent;case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"removePost",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var n,a,r,o,s,c,l,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getID("Post",t,"Title");case 2:return n=e.sent,e.next=5,this.getID("Likes",t,"Title");case 5:return a=e.sent,e.next=8,this.getID("Comments",t,"Post");case 8:return r=e.sent,o=n[0],s=a[0],e.next=13,this.firestore.collection("Post").doc(o).delete();case 13:return e.sent,e.next=16,this.firestore.collection("Likes").doc(s).delete();case 16:if(e.sent,null===r&&void 0===r){e.next=36;break}c=Object(b.a)(r),e.prev=19,c.s();case 21:if((l=c.n()).done){e.next=28;break}return i=l.value,e.next=25,this.firestore.collection("Comments").doc(i).delete();case 25:e.sent;case 26:e.next=21;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(19),c.e(e.t0);case 33:return e.prev=33,c.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[19,30,33,36]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePost",value:function(){var e=Object(k.a)(g.a.mark((function e(t,n,a,r){var o,s,c,l,i,u,m,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={Username:r,Title:n,Link:a},e.next=3,this.loadLikes(t);case 3:return s=e.sent,e.next=6,this.getID("Post",t,"Title");case 6:return c=e.sent,e.next=9,this.getID("Likes",t,"Title");case 9:return l=e.sent,e.next=12,this.getID("Comments",t,"Post");case 12:return i=e.sent,u=c[0],m=l[0],p=i[0],e.next=18,this.firestore.collection("Post").doc(u).set(o);case 18:return e.sent,e.next=21,this.firestore.collection("Likes").doc(m).update({Title:n});case 21:return e.sent,e.next=24,this.firestore.collection("Comments").doc(p).update({Post:n});case 24:return e.sent,o.Total=s[0].Total,e.abrupt("return",o);case 27:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getID",value:function(){var e=Object(k.a)(g.a.mark((function e(t,n,a){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection(t).where(a,"==",n).get();case 2:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return e.id})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"commentPost",value:function(){var e=Object(k.a)(g.a.mark((function e(t,n,a){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={Post:t,Comment:n,Name:a},e.next=3,this.firestore.collection("Comments").add(r);case 3:e.sent;case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"updateComment",value:function(){var e=Object(k.a)(g.a.mark((function e(t,n){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getID("Comments",t,"Comment");case 2:return a=e.sent,r=a[0],e.next=6,this.firestore.collection("Comments").doc(r).update({Comment:n});case 6:e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteComment",value:function(){var e=Object(k.a)(g.a.mark((function e(t,n){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Comments").where("Comment","==",t).where("Name","==",n).get();case 2:return a=e.sent,r=a.docs.map((function(e){return e.id})),e.next=6,this.firestore.collection("Comments").doc(r[0]).delete();case 6:e.sent;case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"loadPosts",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Post").get();case 2:return t=e.sent,n=[],t.forEach(function(){var e=Object(k.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.push(t.data());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadComments",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Comments").where("Post","==",t).get();case 2:return n=e.sent,a=n.docs.map((function(e){return e.data()})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadLikes",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Likes").where("Title","==",t).get();case 2:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return e.data()})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTotalComments",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firestore.collection("Comments").where("Post","==",t).get();case 2:return n=e.sent,a=n.docs.map((function(e){return e.data()})),e.abrupt("return",a.length);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserPostsLikes",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.firestore.collection("User").doc(t).collection("Post").get();case 4:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return e.id})));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserComments",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.firestore.collection("Comments").where("Name","==",t).get();case 4:return n=e.sent,a=n.docs.map((function(e){return e.id})),e.abrupt("return",a.length);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserPosts",value:function(){var e=Object(k.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.firestore.collection("Post").where("Username","==",t).get();case 4:return n=e.sent,e.abrupt("return",n.docs.map((function(e){return e.data()})));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var T=function(e){var t=Object(a.useState)(e.location.state.Author),n=Object(i.a)(t,2),o=n[0],s=(n[1],Object(a.useState)({Timestamp:""})),c=Object(i.a)(s,2),l=c[0],f=c[1],d=Object(a.useState)({Karma:0}),b=Object(i.a)(d,2),E=b[0],g=b[1],k=Object(a.useState)({Comments:0}),w=Object(i.a)(k,2),C=w[0],O=w[1],j=Object(a.useState)({Post:[]}),y=Object(i.a)(j,2),x=y[0],T=y[1],P=Object(a.useContext)(v),S=function(e){console.log(e);var t=new Date(0);return t.setUTCSeconds(e[0].Timestamp.seconds),t.toString()};return Object(a.useEffect)((function(){P.getProfile(o).then((function(e){console.log(e),f({Timestamp:S(e)}),P.getUserPostsLikes(e[0].Email).then((function(e){g({Karma:e.length})}))})),P.getUserComments(o).then((function(e){O({Comments:e})})),P.getUserPosts(o).then((function(e){T({Post:e.length})}))}),[]),r.a.createElement(u.a,{fluid:!0},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:5,offset:3}},r.a.createElement(h.a,null,r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Title,null,"Profile Page"),r.a.createElement(h.a.Text,null,r.a.createElement("strong",null,"User:")," ",o,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"Account created on:")," ",l.Timestamp,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"Total Posts Likes:")," ",E.Karma,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"Karma:")," ",(E.Karma,2*E.Karma+3*C.Comments+4*x.Post),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"Posts Created:")," ",x.Post))))))},P=n(14),S=n(15),L=(n(101),n(22)),U=n(23);n(106);function N(e){var t=Object(a.useState)({Liked:!1}),n=Object(i.a)(t,2),o=n[0],s=n[1],c=Object(a.useState)({Posts:[]}),l=Object(i.a)(c,2),u=(l[0],l[1]),m=Object(a.useContext)(v),p=localStorage.getItem("Email");Object(a.useEffect)((function(){null===p||m.getUserPostsLikes(p).then((function(t){u({Posts:t}),t.includes(e.title)&&s({Liked:!0})}))}),[]);var h=function(){null===p||(o.Liked?(s({Liked:!1}),m.downvote(e.title,e.likes.Total,p)):(s({Liked:!0}),m.upvote(e.title,e.likes.Total,p)))};return o.Liked?r.a.createElement("div",{className:"unliked-icon",onClick:function(){return h()}},r.a.createElement(L.a,{icon:U.a})):r.a.createElement("div",{className:"liked-icon",onClick:function(){return h()}},r.a.createElement(L.a,{icon:U.b}))}function I(e){var t=Object(l.f)(),n=Object(a.useState)({Likes:{Total:0}}),o=Object(i.a)(n,2),s=o[0],c=o[1],u=Object(a.useState)({Comments:0}),m=Object(i.a)(u,2),p=m[0],h=m[1];console.log(s.Likes.Total),Object(a.useEffect)((function(){e.firebase.loadLikes(e.title).then((function(e){console.log(e),0!==e.length&&(console.log("here"),console.log(e[0]),c({Likes:e[0]}))})),e.firebase.getTotalComments(e.title).then((function(e){h({Comments:e})}))}),[]);return r.a.createElement("div",{className:"total-tile-layout"},r.a.createElement("p",{className:"order-number"},e.number,"."),r.a.createElement(N,{title:e.title,likes:s.Likes}),r.a.createElement("div",{className:"tile-layout"},r.a.createElement("div",{className:"post-information"},r.a.createElement("a",{href:e.link},e.title)),r.a.createElement("div",{className:"post-bottom-information"},r.a.createElement("p",null,s.Likes.Total," points by",r.a.createElement("span",{className:"profile-redirect",onClick:function(){t.push({pathname:"/profile/".concat(e.author),state:{Author:e.author}})}}," "+e.author)),r.a.createElement("span",{style:{marginRight:"calc(0.2vw)",marginLeft:"calc(0.2vw)"}},"|"),r.a.createElement("p",null,p.Comments," Comments"),r.a.createElement("span",{style:{marginRight:"calc(0.2vw)",marginLeft:"calc(0.2vw)"}},"|"),r.a.createElement("p",{onClick:function(){t.push({pathname:"/comment/".concat(e.title),state:{Title:e.title,Likes:s.Likes,Author:e.author,Link:e.link}})},className:"comment-link"},"Comment"))))}n(111);var D=function(e){Object(S.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(w.a)(this,n),(a=t.call(this,e)).state={Posts:[]},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.props.firebase.loadPosts().then((function(t){e.setState({Posts:t})}))}),1e3)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"post-layout"},r.a.createElement("div",{className:"post-container"},this.state.Posts.map((function(t,n){return console.log(t),r.a.createElement(I,{title:t.Title,author:t.Username,link:t.Link,firebase:e.props.firebase,number:n+1})}))))}}]),n}(r.a.Component);function A(e){var t=Object(a.useContext)(v);return r.a.createElement(D,{firebase:t,props:e})}var W=n(24),K=(n(73),n(123)),R=n(127),F=n(125),G=n(124),M=r.a.createContext(null),B=function(e){var t=function(t){Object(S.a)(a,t);var n=Object(P.a)(a);function a(e){var t;return Object(w.a)(this,a),(t=n.call(this,e)).state={authUser:null},t}return Object(C.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(M.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return d(t)},J=n(37),Y=function(e,t){return function(n){var a=function(a){Object(S.a)(s,a);var o=Object(P.a)(s);function s(){return Object(w.a)(this,s),o.apply(this,arguments)}return Object(C.a)(s,[{key:"componentDidMount",value:function(){var n=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(a){e(a)||n.props.history.push(t)}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var t=this;return r.a.createElement(M.Consumer,null,(function(a){return e(a)?r.a.createElement(n,t.props):null}))}}]),s}(r.a.Component);return Object(J.a)(l.g,d)(a)}};function _(e){var t=Object(a.useContext)(v),n=Object(a.useState)({Comment:""}),o=Object(i.a)(n,2),s=o[0],c=o[1],l=Object(a.useState)(!0),u=Object(i.a)(l,2),m=u[0],p=u[1],h=e.comment,f=function(){return r.a.createElement(K.a,null,"Edit comment")},d=function(){if(m)p(!m);else{t.updateComment(h.Comment,s.Comment);setTimeout((function(){p(!m),window.location.reload()}),1e3)}};return m?r.a.createElement("div",null,r.a.createElement("p",{className:"comment-p"},h.Comment),localStorage.getItem("Username")===h.Name?r.a.createElement(R.a,{placement:"right",overlay:f(),delay:{show:200,hide:200}},r.a.createElement("div",{className:"comment-edit",onClick:function(e){return d()}},r.a.createElement(L.a,{icon:U.c}))):null):r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(F.a.Control,{defaultValue:h.Comment,onChange:function(e){return c({Comment:e.target.value})}})),localStorage.getItem("Username")===h.Name?r.a.createElement(R.a,{placement:"right",overlay:f(),delay:{show:200,hide:200}},r.a.createElement("div",{className:"comment-edit",onClick:function(e){return d()}},r.a.createElement(L.a,{icon:U.c}))):null)}var z="/profile/:name",V="/create_story",H="/login",q="/signup",Q="/forgot_password",Z="/",$="/comment/:title",X=function(e){Object(S.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(w.a)(this,n),a=t.call(this,e),console.log(e.prop.location.state),a.state={Author:e.prop.location.state.Author,Likes:e.prop.location.state.Likes,Title:e.prop.location.state.Title,Link:e.prop.location.state.Link,CommentTotal:0,Comments:[],Text:"",NewTitle:"",ShowTextbox:!1},a.handleClick=a.handleClick.bind(Object(W.a)(a)),a.remove=a.remove.bind(Object(W.a)(a)),a.editTitle=a.editTitle.bind(Object(W.a)(a)),a.deletePost=a.deletePost.bind(Object(W.a)(a)),a.tooltipDelete=a.tooltipDelete.bind(Object(W.a)(a)),a.tooltipEdit=a.tooltipEdit.bind(Object(W.a)(a)),a.redirect=a.redirect.bind(Object(W.a)(a)),a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.state.Title,this.props.firebase.getTotalComments(this.state.Title).then((function(t){e.setState({CommentTotal:t})})),this.props.firebase.loadComments(this.state.Title).then((function(t){console.log(t),e.setState({Comments:t})}))}},{key:"handleClick",value:function(){var e=this.state.Text,t=localStorage.getItem("Username");this.props.firebase.commentPost(this.state.Title,e,t);this.setState({Text:""}),this.componentDidMount()}},{key:"remove",value:function(e,t){this.props.firebase.deleteComment(e,t);setTimeout((function(){window.location.reload()}),1e3)}},{key:"editTitle",value:function(){var e=this;if(this.state.ShowTextbox){if(""===this.state.NewTitle)return;console.log("here"),this.props.firebase.updatePost(this.state.Title,this.state.NewTitle,this.state.Link,this.state.Author).then((function(t){console.log(t),e.setState({Author:t.Username,Likes:t.Total,Title:t.Title,Link:t.Link})})),this.setState({ShowTextbox:!1,NewTitle:""})}else this.setState({ShowTextbox:!0})}},{key:"deletePost",value:function(){this.props.firebase.removePost(this.state.Title),console.log(this.props),this.props.prop.history.push("/")}},{key:"tooltipDelete",value:function(e){return r.a.createElement(K.a,null,"Delete ",e)}},{key:"tooltipEdit",value:function(e){return r.a.createElement(K.a,null,"Edit ",e)}},{key:"redirect",value:function(){this.props.prop.history.push({pathname:"/profile/".concat(this.state.Author),state:{Author:this.state.Author}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"comment-layout"},r.a.createElement("div",{className:"comment-background"},r.a.createElement(u.a,{fluid:!0},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:4,offset:1}},r.a.createElement("div",{className:"post-description"},r.a.createElement("div",{className:"post-header-text"},r.a.createElement("p",{className:"post-title"},r.a.createElement("strong",null,r.a.createElement("a",{href:this.state.Link},this.state.Title))),localStorage.getItem("Username")==this.state.Author?r.a.createElement(R.a,{placement:"right",overlay:this.tooltipEdit("Title"),delay:{show:200,hide:200}},r.a.createElement("div",{className:"edit-title",onClick:function(){return e.editTitle()}},r.a.createElement(L.a,{icon:U.c}))):null),localStorage.getItem("Username")==this.state.Author?r.a.createElement(R.a,{placement:"right",overlay:this.tooltipDelete("Post"),delay:{show:200,hide:200}},r.a.createElement("div",{className:"delete-post",onClick:function(){return e.deletePost()}},r.a.createElement(L.a,{icon:U.d}))):null,r.a.createElement("p",{className:"post-info"},r.a.createElement(N,{title:this.state.Title,likes:this.state.Likes})," ",this.state.Likes.Total," points by",r.a.createElement("div",{onClick:function(){return e.redirect()},className:"author-link"},this.state.Author)," | ",this.state.CommentTotal," comments ")),this.state.ShowTextbox?r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:5,offset:0}},r.a.createElement(F.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(F.a.Control,{type:"text",onChange:function(t){return e.setState({NewTitle:t.target.value})},value:this.state.NewTitle,placeholder:"Enter new title here..."})))):null)),localStorage.getItem("Username")?r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:5,offset:1}},r.a.createElement(F.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(F.a.Control,{as:"textarea",rows:"4",type:"text",onChange:function(t){return e.setState({Text:t.target.value})},value:this.state.Text,placeholder:"Enter comment here..."})))),r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:5,offset:1}},r.a.createElement(G.a,{onClick:function(){return e.handleClick()}},"Submit")))):null),r.a.createElement("div",{className:"comment-div"},r.a.createElement("div",{className:"comment-container"},this.state.Comments.map((function(t){if(null!==t)return r.a.createElement("div",{className:"comment-node",key:t.Comment},r.a.createElement("h5",null,t.Name),r.a.createElement(_,{comment:t}),localStorage.getItem("Username")===t.Name?r.a.createElement(R.a,{placement:"right",overlay:e.tooltipDelete("Comment"),delay:{show:200,hide:200}},r.a.createElement("div",{className:"comment-delete",onClick:function(){return e.remove(t.Comment,t.Name)}},r.a.createElement(L.a,{icon:U.d}))):null)}))))))}}]),n}(r.a.Component);var ee=function(e){var t=Object(a.useContext)(v);return r.a.createElement(X,{firebase:t,prop:e})};var te=Y((function(e){return!!e}))((function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(""),c=Object(i.a)(s,2),h=c[0],f=c[1],d=Object(a.useState)(!1),b=Object(i.a)(d,2),E=b[0],g=b[1],k=Object(a.useState)(!1),w=Object(i.a)(k,2),C=w[0],O=w[1],j=Object(a.useState)(!1),y=Object(i.a)(j,2),x=y[0],T=y[1],P=Object(a.useContext)(v),S=Object(l.f)(),L=function(){O(""===h),function(){var e=!0;return n.includes(".com")||(e=!1),n.includes("http://")||(e=!1),n.includes("https://")||(e=!1),e}()?g(!1):g(!0);if(h&&n){var e=localStorage.getItem("Username");P.createPost(h,n,e).then((function(e){if(!e)return T(!0),void O(!0);S.push("/")}))}};return console.log(x),r.a.createElement(u.a,{fluid:!0},r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:4,offset:1}},r.a.createElement(F.a,null,r.a.createElement(F.a.Group,{controlId:"formGroupEmail"},r.a.createElement(F.a.Label,null,"Title"),r.a.createElement(F.a.Control,{type:"text",placeholder:"Enter Title",onChange:function(e){f(e.target.value),T(!1),O(!1)},isInvalid:C}),!x&&r.a.createElement(F.a.Control.Feedback,{type:"invalid"},"Please enter a valid Title"),x&&r.a.createElement(F.a.Control.Feedback,{type:"invalid"},"This title is already taken. Please enter a new one!")),r.a.createElement(F.a.Group,{controlId:"formGroupPassword"},r.a.createElement(F.a.Label,null,"URL"),r.a.createElement(F.a.Control,{type:"text",placeholder:"Enter Valid URL",onChange:function(e){o(e.target.value),g(!1)},isInvalid:E}),r.a.createElement(F.a.Control.Feedback,{type:"invalid"},"Please enter a valid url"))))),r.a.createElement(m.a,null,r.a.createElement(p.a,{md:{span:4,offset:1}},r.a.createElement(G.a,{onClick:function(){return L()}},"Create Post"))))})),ne=n(29),ae=n(26),re={email:"",error:null},oe=function(e){Object(S.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(w.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then((function(){a.setState(Object(ae.a)({},re))})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(ne.a)({},e.target.name,e.target.value))},a.state=Object(ae.a)({},re),a}return Object(C.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.error,a=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:a,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),n}(a.Component),se=function(){return r.a.createElement("p",null,r.a.createElement(c.b,{to:Q},"Forgot Password?"))},ce=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Forget Password"),r.a.createElement(le,null))},le=d(oe),ie=function(e){Object(S.a)(n,e);var t=Object(P.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignUp"),r.a.createElement(he,null))}}]),n}(a.Component),ue={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},me=function(e){Object(S.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(w.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=a.state,n=t.username,r=t.email,o=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(r,o).then((function(e){return a.props.firebase.user(e.user.uid).set({username:n,email:r})})).then((function(){a.setState(Object(ae.a)({},ue)),a.props.firebase.createProfile(n,r),localStorage.setItem("Email",r),localStorage.setItem("Username",n),a.props.history.push(Z)})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(ne.a)({},e.target.name,e.target.value))},a.state=Object(ae.a)({},ue),a}return Object(C.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,a=e.passwordOne,o=e.passwordTwo,s=e.error,c=a!==o||""===a||""===n||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("p",null,"Enter Your Username:"),r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Enter Username"}),r.a.createElement("p",null,"Enter Your Email:"),r.a.createElement("input",{name:"email",value:n,onChange:this.onChange,type:"email",placeholder:"Email Address"}),r.a.createElement("br",null),r.a.createElement("p",null,"Enter Password:"),r.a.createElement("input",{name:"passwordOne",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("p",null,"Confirm Password:"),r.a.createElement("input",{name:"passwordTwo",value:o,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),r.a.createElement("button",{disabled:c,type:"submit"},"Sign Up"),s&&r.a.createElement("p",null,s.message))}}]),n}(a.Component),pe=function(){return r.a.createElement("p",null,"Dont have an account? ",r.a.createElement(c.b,{to:q},"Sign Up"))},he=Object(J.a)(l.g,d)(me),fe=ie,de=function(e){Object(S.a)(n,e);var t=Object(P.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignIn"),r.a.createElement(Ee,null),r.a.createElement(se,null),r.a.createElement(pe,null))}}]),n}(a.Component),ve={email:"",password:"",error:null},be=function(e){Object(S.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(w.a)(this,n),(a=t.call(this,e)).onSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then((function(){localStorage.setItem("Email",n),a.props.firebase.loadProfile(n).then((function(e){console.log(e),localStorage.setItem("Username",e.Username)})),a.setState(Object(ae.a)({},ve)),a.props.history.push(Z)})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(ne.a)({},e.target.name,e.target.value))},a.state=Object(ae.a)({},ve),a}return Object(C.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.error,o=""===n||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("p",null,"Enter Your Email:"),r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("p",null,"Enter Password:"),r.a.createElement("input",{name:"password",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("button",{disabled:o,type:"submit"},"Sign In"),a&&r.a.createElement("p",null,a.message))}}]),n}(a.Component),Ee=Object(J.a)(l.g,d)(be),ge=de,ke=n(128),we=n(126),Ce=(n(74),d((function(e){var t=e.firebase;return r.a.createElement("button",{type:"button",onClick:t.doSignOut},"Sign Out")}))),Oe=function(){return r.a.createElement("div",{className:"bootstrap-scoped"},r.a.createElement(ke.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(ke.a.Brand,{href:Z,className:"brand-name"},"Hacker News"),r.a.createElement(ke.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(ke.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(we.a,{className:"mr-auto"},r.a.createElement(we.a.Link,{href:V},"Create Story")),r.a.createElement(we.a.Link,{className:"sign_out",href:Z},r.a.createElement(Ce,null)))))},je=function(){return r.a.createElement("div",{className:"bootstrap-scoped"},r.a.createElement(ke.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(ke.a.Brand,{href:Z,className:"brand-name"},"Hacker News"),r.a.createElement(ke.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(ke.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(we.a,{className:"mr-auto"}),r.a.createElement(we.a.Link,{className:"sign_in",href:H},r.a.createElement(G.a,{variant:"outline-info"},r.a.createElement("b",null,"LogIn"))))))},ye=function(){return r.a.createElement("div",null,r.a.createElement(M.Consumer,null,(function(e){return e?r.a.createElement(Oe,null):r.a.createElement(je,null)})))},xe=(n(115),B((function(){return r.a.createElement(c.a,null,r.a.createElement(ye,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:Z,component:A}),r.a.createElement(l.a,{exact:!0,path:$,component:ee}),r.a.createElement(l.a,{exact:!0,path:z,component:T}),r.a.createElement(l.a,{exact:!0,path:V,component:te}),r.a.createElement(l.a,{exact:!0,path:H,component:ge}),r.a.createElement(l.a,{exact:!0,path:Q,component:ce}),r.a.createElement(l.a,{exact:!0,path:q,component:fe})))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(v.Provider,{value:new x},r.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,n){},87:function(e,t,n){e.exports=n(116)},92:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.7e5decd5.chunk.js.map